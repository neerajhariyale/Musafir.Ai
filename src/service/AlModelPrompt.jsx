import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location : indore , for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName , HotelAddress , Price, HotelImageUrl , geo coordinates, Ratings , Description and suggest summary itinerary with PlaceName, PlaceDetails, PlaceImageURL, Geo Coordinations, ticket Pricing, Time travel each of the location for 3 days with each day plan with TIME(OPEN - CLOSE) donot explain give direct particular time (AM -PM) in JSON format.\n",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "location": "Indore",\n  "duration": "3 Days",\n  "travelers": "Couple",\n  "budget": "Cheap",\n  "hotel_options": [\n    {\n      "HotelName": "Hotel Amar Vilas",\n      "HotelAddress": "14/2, South Tukoganj, Indore, Madhya Pradesh 452001",\n      "Price": "₹1200 - ₹2000 per night (approx.)",\n      "HotelImageUrl": "https://example.com/hotel_amar_vilas.jpg",\n      "geo_coordinates": {\n        "latitude": 22.7165,\n        "longitude": 75.8648\n      },\n      "Ratings": 3.7,\n      "Description": "A budget hotel in a good location, offering clean rooms and essential amenities. Close to restaurants and transportation options.",\n      "amenities": ["Free Wifi", "Parking", "Restaurant"]\n    },\n    {\n      "HotelName": "Hotel Grand Shivam",\n      "HotelAddress": "46/2, Race Course Road, South Tukoganj, Indore, Madhya Pradesh 452003",\n      "Price": "₹1500 - ₹2500 per night (approx.)",\n      "HotelImageUrl": "https://example.com/hotel_grand_shivam.jpg",\n      "geo_coordinates": {\n        "latitude": 22.7132,\n        "longitude": 75.8689\n      },\n      "Ratings": 4.1,\n      "Description": "A comfortable hotel offering well-maintained rooms and decent service. Situated near Race Course Road, providing easy access to various parts of the city.",\n      "amenities": ["Free Wifi", "Parking", "Restaurant"]\n    },\n    {\n      "HotelName": "Hotel Kanchan Tilak",\n      "HotelAddress": "11/1, RNT Marg, South Tukoganj, Indore, Madhya Pradesh 452001",\n      "Price": "₹1000 - ₹1800 per night (approx.)",\n      "HotelImageUrl": "https://example.com/hotel_kanchan_tilak.jpg",\n      "geo_coordinates": {\n        "latitude": 22.7178,\n        "longitude": 75.8612\n      },\n      "Ratings": 3.5,\n      "Description": "A simple and affordable hotel offering basic amenities. Suitable for travelers on a tight budget.",\n      "amenities": ["Free Wifi", "Parking"]\n    }\n  ],\n  "itinerary": [\n    {\n      "Day": "1",\n      "plan": [\n        {\n          "PlaceName": "Rajwada Palace",\n          "PlaceDetails": "Historical palace in the heart of Indore. Blend of Maratha, Mughal, and French architecture.",\n          "PlaceImageURL": "https://example.com/rajwada_palace.jpg",\n          "Geo_Coordinates": {\n            "latitude": 22.7188,\n            "longitude": 75.8580\n          },\n          "TicketPricing": "₹10 (approx.)",\n          "TimeToTravel": "Centrally located; easily accessible by auto-rickshaw or local bus (15-30 minutes from most hotels).",\n          "BestTimeToVisit": "Morning (10:00 AM - 12:00 PM) to avoid crowds and afternoon heat."\n        },\n        {\n          "PlaceName": "Kanch Mandir (Jain Temple)",\n          "PlaceDetails": "Stunning Jain temple entirely made of glass. Intricate mirror work and beautiful architecture.",\n          "PlaceImageURL": "https://example.com/kanch_mandir.jpg",\n          "Geo_Coordinates": {\n            "latitude": 22.7175,\n            "longitude": 75.8615\n          },\n          "TicketPricing": "Free",\n          "TimeToTravel": "Short walk from Rajwada Palace (5-10 minutes).",\n          "BestTimeToVisit": "Anytime during the day (temple hours)."\n        },\n        {\n          "PlaceName": "Sarafa Bazaar (Night Food Market)",\n          "PlaceDetails": "Vibrant night market where jewelry shops transform into food stalls. A must-visit for street food lovers.",\n          "PlaceImageURL": "https://example.com/sarafa_bazaar.jpg",\n          "Geo_Coordinates": {\n            "latitude": 22.7182,\n            "longitude": 75.8572\n          },\n          "TicketPricing": "Varies depending on the food you try. Budget ₹300-₹500 per person.",\n          "TimeToTravel": "Located near Rajwada Palace. Open late at night (8:00 PM onwards).",\n          "BestTimeToVisit": "After 9:00 PM when the market is in full swing."\n        }\n      ]\n    },\n    {\n      "Day": "2",\n      "plan": [\n        {\n          "PlaceName": "Lal Bagh Palace",\n          "PlaceDetails": "Grand palace showcasing the lifestyle of the Holkar rulers. Beautiful architecture and gardens.",\n          "PlaceImageURL": "https://example.com/lal_bagh_palace.jpg",\n          "Geo_Coordinates": {\n            "latitude": 22.6981,\n            "longitude": 75.8569\n          },\n          "TicketPricing": "₹20 (approx.)",\n          "TimeToTravel": "Located a bit outside the city center. Hire an auto-rickshaw or taxi (30-45 minutes).",\n          "BestTimeToVisit": "Morning (10:00 AM - 12:00 PM) or late afternoon (3:00 PM - 5:00 PM)."\n        },\n        {\n          "PlaceName": "Bada Ganpati",\n          "PlaceDetails": "Home to one of the largest Ganesh idols in the world. A popular pilgrimage site.",\n          "PlaceImageURL": "https://example.com/bada_ganpati.jpg",\n          "Geo_Coordinates": {\n            "latitude": 22.7205,\n            "longitude": 75.8488\n          },\n          "TicketPricing": "Free",\n          "TimeToTravel": "Located near Lal Bagh Palace, accessible by auto-rickshaw or local bus (15-20 minutes).",\n          "BestTimeToVisit": "Afternoon (2:00 PM - 4:00 PM) after visiting Lal Bagh Palace."\n        },\n        {\n          "PlaceName": "Chappan Dukaan (56 Shops)",\n          "PlaceDetails": "Famous street food area offering a variety of snacks and dishes. A local favorite for a quick and delicious bite.",\n          "PlaceImageURL": "https://example.com/chappan_dukaan.jpg",\n          "Geo_Coordinates": {\n            "latitude": 22.7208,\n            "longitude": 75.8812\n          },\n          "TicketPricing": "Varies depending on the food. Budget ₹200-₹400 per person.",\n          "TimeToTravel": "Located centrally. Easily accessible by auto-rickshaw or local bus (15-30 minutes from Bada Ganpati).",\n          "BestTimeToVisit": "Evening (6:00 PM onwards) when all the shops are open."\n        }\n      ]\n    },\n    {\n      "Day": "3",\n      "plan": [\n        {\n          "PlaceName": "Khajrana Temple",\n          "PlaceDetails": "Popular Hindu temple dedicated to Goddess Durga. Known for its beautiful architecture and serene atmosphere.",\n          "PlaceImageURL": "https://example.com/khajrana_temple.jpg",\n          "Geo_Coordinates": {\n            "latitude": 22.7427,\n            "longitude": 75.8863\n          },\n          "TicketPricing": "Free",\n          "TimeToTravel": "Located a bit outside the city center. Hire an auto-rickshaw or taxi (20-30 minutes).",\n          "BestTimeToVisit": "Morning (9:00 AM - 12:00 PM) for a peaceful visit."\n        },\n        {\n          "PlaceName": "Regional Science Centre, Indore",\n          "PlaceDetails": "Interactive science museum suitable for all ages. Provides exhibits on various scientific concepts.",\n          "PlaceImageURL": "https://example.com/regional_science_centre_indore.jpg",\n          "Geo_Coordinates": {\n            "latitude": 22.7063,\n            "longitude": 75.8469\n          },\n          "TicketPricing": "₹30 (approx.)",\n          "TimeToTravel": "Located a distance away from Khajrana, hire a taxi/auto (30-40 minutes).",\n          "BestTimeToVisit": "Afternoon (2:00 PM - 4:00 PM) to escape the heat."\n        },\n        {\n          "PlaceName": "Indore Museum",\n          "PlaceDetails": "Showcasing artifacts and exhibits related to the history and culture of Indore and the surrounding region.",\n          "PlaceImageURL": "https://example.com/indore_museum.jpg",\n          "Geo_Coordinates": {\n            "latitude": 22.7185,\n            "longitude": 75.8532\n          },\n          "TicketPricing": "₹10 (approx.)",\n          "TimeToTravel": "Located near the Science Centre, taxi/auto (15-20 minutes)",\n          "BestTimeToVisit": "Late Afternoon (4:00 PM - 5:00 PM)."\n        }\n      ]\n    }\n  ]\n}\n```\n',
        },
      ],
    },
  ],
});
